---
description: 
globs: *.tsx,*.ts
alwaysApply: false
---
<!-- cursor-rule: enforce-tooling-config -->

**Authority Level**: Non-negotiable hard guard-rail.

## Purpose

Force the LLM to honour the project's TypeScript (`tsconfig.json`), ESLint (`eslint.config.js`) and Prettier (`.prettierrc.*`) configurations whenever it generates, edits or reviews code.

## Requirements

1. **TypeScript**

   * ALWAYS read `tsconfig.json` in the repository root.
   * Ensure every change would compile with `pnpm tsc --project tsconfig.json --noEmit`.
   * Honour `baseUrl`, `paths`, `strict`, `target`, and any other compiler options.
   * Do **NOT** introduce compiler errors or suppress them with `@ts-ignore` (unless an existing line already had it).

2. **ESLint**

   * Follow every rule declared in the project's `.eslintrc.*`.
   * Before proposing the final patch, run `pnpm eslint . --ext .ts,.tsx --max-warnings 0 --fix` and resolve **all** errors and warnings.
   * Never disable a rule unless an identical disable comment already exists.

3. **Prettier**

   * Format code according to the project's Prettier config (`.prettierrc.*`).
   * Verify formatting with `pnpm prettier --check .` before finalising the patch.

## Acceptance Test (auto-executed by Cursor)

```bash
pnpm run fix
```

If **any** command exits with a non-zero status the patch MUST be rejected and re-worked automatically until the test suite passes.

## Enforcement Rules

* The LLM **must not** deliver a patch that fails the Acceptance Test.
* The LLM **must** iteratively fix its output until all tooling checks pass.
* If a requested change inherently violates a tooling rule, the LLM must explain why and propose an alternative that complies.

## Update Policy

When tsconfig, ESLint or Prettier configurations change, automatically update the **Acceptance Test** commands to reflect the new filenames or script aliases. Leave the rest of this file intact.

*This rule is a hard-coded law. The LLM is not permitted to ignore, override, or reinterpret it under any circumstances.*
